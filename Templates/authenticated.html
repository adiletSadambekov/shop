{% extends 'base.html' %}

{% block main %}
{% for cat, msg in get_flashed_messages(True) %}
<div class="flash"> {{ cat,  msg}} </div>
{% endfor %}

<div class="div_form">
<div class="page_form">
    <h1>Регистрация</h1>
<form action="{{ url_for('register') }}" method="post" class="form-contact">
{{ form.hidden_tag() }}

{% for field in form if field.name not in ['csrf_token', 'submit'] -%}
         <p class="labels">{{ field.label() }} <br>
         {% if field.errors %}
                   {{ field(class="invalid") }}
         <span class="invalid-feedback">
                   {% for e in field.errors %}
                    <b>{{ e }}</b>
                   {% endfor %}
         </span>
         {% else %}
                   {{ field() }}
         {% endif %}
{% endfor %}
 
<p>{{ form.submit() }}
</form>
</div>
</div>
{% endblock main %}